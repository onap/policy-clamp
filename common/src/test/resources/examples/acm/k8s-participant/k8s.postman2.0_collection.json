{
  "info": {
    "name": "CL-K8s-participant",
    "_postman_id": "90ac155d-08ff-4dce-a4f0-24e8d8aefa70",
    "description": "",
    "schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
  },
  "item": [
    {
      "id": "711b8171-7b0f-4461-b5ad-fb00bc03b1a3",
      "name": "Get Instantiated Control loops",
      "request": {
        "url": {
          "protocol": "https",
          "host": "localhost",
          "path": [
            "onap",
            "controlloop",
            "v2",
            "instantiation"
          ],
          "port": "6969"
        },
        "method": "GET",
        "header": [
          {
            "key": "Accept",
            "value": "*/*",
            "disabled": false
          }
        ],
        "body": {
          "mode": "raw",
          "disabled": false
        },
        "description": ""
      },
      "response": [
        {
          "header": [],
          "code": 200,
          "name": "Response_200",
          "id": "d10bdd1f-ff18-49ed-9798-1705bb579668"
        }
      ]
    },
    {
      "id": "3b0c5920-42b4-4647-8a15-bfcb02cfbd54",
      "name": "Update a Control loop",
      "request": {
        "url": {
          "protocol": "https",
          "host": "localhost",
          "path": [
            "onap",
            "controlloop",
            "v2",
            "instantiation/command"
          ],
          "port": "6969"
        },
        "method": "PUT",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "description": "",
            "disabled": false
          },
          {
            "key": "X-ONAP-RequestID",
            "value": "709c62b3-8918-41b9-a747-d21eb79c6c20",
            "description": "",
            "disabled": false
          },
          {
            "key": "Accept",
            "value": "*/*",
            "disabled": false
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"orderedState\": \"PASSIVE\",\r\n  \"controlLoopIdentifierList\": [\r\n    {\r\n      \"name\": \"K8SInstance0\",\r\n      \"version\": \"1.0.1\"\r\n    }\r\n  ]\r\n}",
          "disabled": false
        },
        "description": ""
      },
      "response": [
        {
          "header": [],
          "code": 200,
          "name": "Response_200",
          "id": "9b6719f4-d325-45ee-9951-ac50bc8e4d38"
        }
      ]
    },
    {
      "id": "d9c9a188-3fe1-4950-b851-9f76b0c72f63",
      "name": "UnInitialise a Control loop",
      "request": {
        "url": {
          "protocol": "https",
          "host": "localhost",
          "path": [
            "onap",
            "controlloop",
            "v2",
            "instantiation/command"
          ],
          "port": "6969"
        },
        "method": "PUT",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "description": "",
            "disabled": false
          },
          {
            "key": "Accept",
            "value": "*/*",
            "disabled": false
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"orderedState\": \"UNINTIALISED\",\r\n  \"controlLoopIdentifierList\": [\r\n    {\r\n      \"name\": \"K8SInstance0\",\r\n      \"version\": \"1.0.1\"\r\n    }\r\n  ]\r\n}",
          "disabled": false
        },
        "description": ""
      },
      "response": [
        {
          "header": [],
          "code": 200,
          "name": "Response_200",
          "id": "69ae3508-0fef-42c7-b96b-28f3b98f599e"
        }
      ]
    },
    {
      "id": "3626da99-5645-4386-85cf-0bbe296adf6d",
      "name": "Instantiate a Control loop",
      "request": {
        "url": {
          "protocol": "https",
          "host": "localhost",
          "path": [
            "onap",
            "controlloop",
            "v2",
            "instantiation"
          ],
          "port": "6969"
        },
        "method": "POST",
        "header": [
          {
            "key": "X-ONAP-RequestID",
            "value": "709c62b3-8918-41b9-a747-d21eb79c6c20",
            "description": "",
            "disabled": false
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "description": "",
            "disabled": false
          },
          {
            "key": "Accept",
            "value": "*/*",
            "disabled": false
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"controlLoopList\": [\r\n    {\r\n      \"name\": \"K8SInstance0\",\r\n      \"version\": \"1.0.1\",\r\n      \"definition\": {\r\n        \"name\": \"org.onap.domain.sample.GenericK8s_ControlLoopDefinition\",\r\n        \"version\": \"1.2.3\"\r\n      },\r\n      \"state\": \"UNINITIALISED\",\r\n      \"orderedState\": \"UNINITIALISED\",\r\n      \"description\": \"K8s control loop instance 0\",\r\n      \"elements\": {\r\n        \"709c62b3-8918-41b9-a747-d21eb79c6c20\": {\r\n          \"id\": \"709c62b3-8918-41b9-a747-d21eb79c6c20\",\r\n          \"definition\": {\r\n            \"name\": \"org.onap.domain.database.HelloWorld_K8SMicroserviceControlLoopElement\",\r\n            \"version\": \"1.2.3\"\r\n          },\r\n          \"participantId\": {\r\n            \"name\": \"org.onap.k8s.controlloop.K8SControlLoopParticipant\",\r\n            \"version\": \"2.3.4\"\r\n          },\r\n          \"participantType\": {\r\n            \"name\": \"org.onap.k8s.controlloop.K8SControlLoopParticipant\",\r\n            \"version\": \"2.3.4\"\r\n          },\r\n          \"state\": \"UNINITIALISED\",\r\n          \"orderedState\": \"UNINITIALISED\",\r\n          \"description\": \"K8s Control Loop Element for the k8s instance 0 control loop\"\r\n        },\r\n        \"709c62b3-8918-41b9-a747-d21eb79c6c21\": {\r\n          \"id\": \"709c62b3-8918-41b9-a747-d21eb79c6c21\",\r\n          \"definition\": {\r\n            \"name\": \"org.onap.domain.database.PMSH_K8SMicroserviceControlLoopElement\",\r\n            \"version\": \"1.2.3\"\r\n          },\r\n          \"participantId\": {\r\n            \"name\": \"org.onap.k8s.controlloop.K8SControlLoopParticipant\",\r\n            \"version\": \"2.3.4\"\r\n          },\r\n          \"participantType\": {\r\n            \"name\": \"org.onap.k8s.controlloop.K8SControlLoopParticipant\",\r\n            \"version\": \"2.3.4\"\r\n          },\r\n          \"state\": \"UNINITIALISED\",\r\n          \"orderedState\": \"UNINITIALISED\",\r\n          \"description\": \"K8s Control Loop Element for the PMSH instance 0 control loop\"\r\n        },\r\n        \"709c62b3-8918-41b9-a747-d21eb79c6c22\": {\r\n          \"id\": \"709c62b3-8918-41b9-a747-d21eb79c6c22\",\r\n          \"definition\": {\r\n            \"name\": \"org.onap.domain.database.Local_K8SMicroserviceControlLoopElement\",\r\n            \"version\": \"1.2.3\"\r\n          },\r\n          \"participantId\": {\r\n            \"name\": \"org.onap.k8s.controlloop.K8SControlLoopParticipant\",\r\n            \"version\": \"2.3.4\"\r\n          },\r\n          \"participantType\": {\r\n            \"name\": \"org.onap.k8s.controlloop.K8SControlLoopParticipant\",\r\n            \"version\": \"2.3.4\"\r\n          },\r\n          \"state\": \"UNINITIALISED\",\r\n          \"orderedState\": \"UNINITIALISED\",\r\n          \"description\": \"K8s Control Loop Element for the local instance 0 control loop\"\r\n        }\r\n      }\r\n    }\r\n  ]\r\n}",
          "disabled": false
        },
        "description": ""
      },
      "response": [
        {
          "header": [],
          "code": 200,
          "name": "Response_200",
          "id": "76e0d5e8-f5c9-456e-b908-c9f24ebc5613"
        }
      ]
    },
    {
      "id": "9e88fc2f-6a65-4693-ab78-d69139d06d02",
      "name": "Commission a Control loop",
      "request": {
        "url": {
          "protocol": "https",
          "host": "localhost",
          "path": [
            "onap",
            "controlloop",
            "v2",
            "commission"
          ],
          "port": "6969"
        },
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/yaml",
            "description": "",
            "disabled": false
          },
          {
            "key": "X-ONAP-RequestID",
            "value": "709c62b3-8918-41b9-a747-d21eb79c6c20",
            "description": "",
            "disabled": false
          },
          {
            "key": "Accept",
            "value": "*/*",
            "disabled": false
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "tosca_definitions_version: tosca_simple_yaml_1_3\ndata_types:\n  onap.datatypes.ToscaConceptIdentifier:\n    derived_from: tosca.datatypes.Root\n    properties:\n      name:\n        type: string\n        required: true\n      version:\n        type: string\n        required: true\nnode_types:\n  org.onap.policy.clamp.controlloop.Participant:\n    version: 1.0.1\n    derived_from: tosca.nodetypes.Root\n    properties:\n      provider:\n        type: string\n        requred: false\n  org.onap.policy.clamp.controlloop.ControlLoopElement:\n    version: 1.0.1\n    derived_from: tosca.nodetypes.Root\n    properties:\n      provider:\n        type: string\n        requred: false\n      participant_id:\n        type: onap.datatypes.ToscaConceptIdentifier\n        requred: true\n  org.onap.policy.clamp.controlloop.ControlLoop:\n    version: 1.0.1\n    derived_from: tosca.nodetypes.Root\n    properties:\n      provider:\n        type: string\n        requred: false\n      elements:\n        type: list\n        required: true\n        entry_schema:\n          type: onap.datatypes.ToscaConceptIdentifier\n  org.onap.policy.clamp.controlloop.K8SMicroserviceControlLoopElement:\n    version: 1.0.1\n    derived_from: org.onap.policy.clamp.controlloop.ControlLoopElement\n    properties:\n      chart:\n        type: string\n        required: true\n      configs:\n        type: list\n        required: false\n      requirements:\n        type: string\n        requred: false\n      templates:\n        type: list\n        required: false\n        entry_schema:\n      values:\n        type: string\n        requred: true\ntopology_template:\n  node_templates:\n    org.onap.k8s.controlloop.K8SControlLoopParticipant:\n      version: 2.3.4\n      type: org.onap.policy.clamp.controlloop.Participant\n      type_version: 1.0.1\n      description: Participant for K8S\n      properties:\n        provider: ONAP\n   \n    org.onap.domain.database.HelloWorld_K8SMicroserviceControlLoopElement:\n      # Chart from any chart repository configured on helm client.\n      version: 1.2.3\n      type: org.onap.policy.clamp.controlloop.K8SMicroserviceControlLoopElement\n      type_version: 1.0.0\n      description: Control loop element for the K8S microservice for Hello World\n      properties:\n        provider: ONAP\n        participant_id:\n          name: org.onap.k8s.controlloop.K8SControlLoopParticipant\n          version: 2.3.4\n        chart:  \n          chartId:         \n            name: dummy\n            version: 0.1.0 \n          releaseName: test                         \n          namespace: test   \n\n    org.onap.domain.database.PMSH_K8SMicroserviceControlLoopElement:  \n      # Chart from local file system    \n      version: 1.2.3\n      type: org.onap.policy.clamp.controlloop.K8SMicroserviceControlLoopElement\n      type_version: 1.0.0\n      description: Control loop element for the K8S microservice for PMSH\n      properties:\n        provider: ONAP\n        participant_id:\n          name: org.onap.k8s.controlloop.K8SControlLoopParticipant\n          version: 2.3.4\n        chart:          \n          chartId: \n            name: dcae-pmsh         \n            version: 8.0.0\n          namespace: onap \n          releaseName: pmshms\n          repository:\n            repoName: chartmuseum\n            protocol: http\n            address: 10.152.183.120\n            port: 80\n            userName: onapinitializer\n            password: demo123456!\n          overrideParams:\n            global.masterPassword: test\n            \n                 \n\n    org.onap.domain.database.Local_K8SMicroserviceControlLoopElement: \n      # Chart installation without passing repository name     \n      version: 1.2.3\n      type: org.onap.policy.clamp.controlloop.K8SMicroserviceControlLoopElement\n      type_version: 1.0.0\n      description: Control loop element for the K8S microservice for local chart\n      properties:\n        provider: ONAP\n        participant_id:\n          name: org.onap.k8s.controlloop.K8SControlLoopParticipant\n          version: 2.3.4\n        chart:\n          chartId:      \n            name: nginx-ingress\n            version: 0.9.1    \n          releaseName: nginxms\n          namespace: test   \n          repository:\n            repoName: nginx-stable       \n\n    org.onap.domain.sample.GenericK8s_ControlLoopDefinition:\n      version: 1.2.3\n      type: org.onap.policy.clamp.controlloop.ControlLoop\n      type_version: 1.0.0\n      description: Control loop for Hello World\n      properties:\n        provider: ONAP\n        elements:        \n        - name: org.onap.domain.database.HelloWorld_K8SMicroserviceControlLoopElement\n          version: 1.2.3   \n        - name: org.onap.domain.database.PMSH_K8SMicroserviceControlLoopElement\n          version: 1.2.3     \n        - name: org.onap.domain.database.Local_K8SMicroserviceControlLoopElement\n          version: 1.2.3                  \n   ",
          "disabled": false
        },
        "description": ""
      },
      "response": [
        {
          "header": [],
          "code": 200,
          "name": "Response_200",
          "id": "ab57b923-a484-486c-a03a-b1ad6bf64d09"
        }
      ]
    }
  ],
  "variable": [],
  "auth": {
    "type": "basic",
    "basic": {
      "username": "runtimeUser",
      "password": "zb!XztG34"
    }
  }
}